<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polyfills of Higher Order Functions</title>
</head>
<body>
    
    <h1>Higher order functions(forEach, map, filter, reduce) and Polyfill</h1>

    <script>
        // Polyfill of forEach
        Array.prototype.myForEach = function(callback){
            for(let i=0; i<this.length; i++){
                callback(this[i])
            }
        }

        // let arr = [1,3,4,6];
        // arr.myForEach((ele)=>{
        //     console.log(ele*2);
        // })


        // Polyfill of map function
        Array.prototype.myMap = function(callback){
            let resultArr = [];
            for(let i=0; i<this.length; i++){
                resultArr.push(callback(this[i]))
            }
            return resultArr;
        }

        // let arr1 = [1,2,3,4];
        // let res = arr1.myMap((ele)=>{
        //    return ele*2;
        // })
        // console.log(res);

        // Polyfill of filter function
        Array.prototype.myFilter = function(callback){
            let resultArr = [];
            for(let i=0; i<this.length; i++){
                if(callback(this[i])){
                    resultArr.push(this[i])
                } 
            }
            return resultArr;
        }

        // let arr1 = [1,2,3,4,5,6];
        // let res = arr1.myFilter((ele)=>{
        //    return ele%2 == 0;
        // })
        // console.log(res);

        // Polyfill of reduce function

        Array.prototype.myReduce = function(callback, initial){
            let accumulator;
            let firstIndex;

            if(arguments.length === 1){
                firstIndex = 1;
                accumulator = this[0];
            }else{
                firstIndex = 0;
                accumulator = initial;
            }

            for(let i=firstIndex; i<this.length; i++){
               accumulator = callback(accumulator, this[i])
            }
            return accumulator;
        }

        let arr2 = [1,2,3,4];
        let resultofReduce = arr2.myReduce((sum, current)=>{
            return sum+current;
        },0)
        console.log(resultofReduce);

    </script>


</body>
</html>